/**
 * ElCaro Trading Platform - Mobile Responsive Styles
 * Version 2.0
 * 
 * Complete mobile optimization for all webapp pages
 * Supports: iPhone SE (320px), iPhone 12/13 (390px), iPad (768px), Desktop (1024px+)
 */

/* ============================================
   MOBILE BREAKPOINTS
   ============================================ */
/*
   320px  - iPhone SE, small phones
   375px  - iPhone 6/7/8, iPhone X/11/12 mini
   390px  - iPhone 12/13/14 Pro
   414px  - iPhone Plus models
   768px  - iPad portrait
   1024px - iPad landscape, small desktops
   1440px - Large desktops
*/

/* ============================================
   BASE MOBILE RESET (All Devices)
   ============================================ */
@media (max-width: 1024px) {
    /* Smooth scrolling and touch optimization */
    html {
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }
    
    body {
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* Touch-friendly elements */
    button, a, input, select, textarea {
        -webkit-tap-highlight-color: rgba(220, 38, 38, 0.2);
        touch-action: manipulation;
    }
    
    /* Prevent zoom on focus */
    input, select, textarea {
        font-size: 16px !important;
    }
    
    /* Larger touch targets (44x44px minimum) */
    button, a.btn, .clickable {
        min-height: 44px;
        min-width: 44px;
        padding: 12px 20px;
    }
}

/* ============================================
   NAVIGATION - MOBILE HAMBURGER MENU
   ============================================ */
@media (max-width: 768px) {
    /* Navbar mobile layout */
    .navbar {
        padding: 12px 16px !important;
        height: 60px;
    }
    
    .navbar .container {
        padding: 0;
    }
    
    .logo {
        font-size: 20px !important;
    }
    
    .logo-icon {
        width: 32px !important;
        height: 32px !important;
        font-size: 18px !important;
    }
    
    /* Hide desktop nav links */
    .nav-links {
        display: none !important;
        position: fixed;
        top: 60px;
        left: 0;
        right: 0;
        background: var(--bg-secondary);
        flex-direction: column;
        padding: 16px;
        border-top: 1px solid var(--border);
        z-index: 1000;
    }
    
    .nav-links.active {
        display: flex !important;
    }
    
    .nav-links li {
        width: 100%;
        margin: 0;
    }
    
    .nav-links a {
        display: block;
        padding: 16px;
        border-radius: var(--radius-sm);
        transition: background 0.2s;
    }
    
    .nav-links a:hover {
        background: var(--bg-hover);
    }
    
    /* Mobile hamburger menu button */
    .mobile-menu-toggle {
        display: flex !important;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        border: none;
        background: transparent;
        color: var(--text-primary);
        cursor: pointer;
        margin-left: auto;
    }
    
    .mobile-menu-toggle i {
        font-size: 22px;
    }
    
    /* Nav CTA buttons mobile */
    .nav-cta {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .nav-cta .btn {
        padding: 10px 16px;
        font-size: 14px;
    }
}

/* ============================================
   LANDING PAGE (index.html)
   ============================================ */
@media (max-width: 768px) {
    /* Hero section */
    .hero {
        padding: 80px 20px 60px !important;
        min-height: auto !important;
    }
    
    .hero-content {
        text-align: center;
    }
    
    .hero h1 {
        font-size: 32px !important;
        line-height: 1.2;
    }
    
    .hero .subtitle {
        font-size: 16px !important;
        margin: 16px 0 24px;
    }
    
    .cta-buttons {
        flex-direction: column;
        width: 100%;
    }
    
    .cta-buttons .btn {
        width: 100%;
        justify-content: center;
    }
    
    /* Stats grid */
    .stats-grid {
        grid-template-columns: 1fr !important;
        gap: 16px;
    }
    
    .stat-value {
        font-size: 32px !important;
    }
    
    /* Features section */
    .features-grid {
        grid-template-columns: 1fr !important;
        gap: 16px;
    }
    
    .feature-card {
        padding: 24px 20px;
    }
    
    .feature-icon {
        width: 48px !important;
        height: 48px !important;
        font-size: 24px !important;
    }
    
    /* Strategies section */
    .strategies-grid {
        grid-template-columns: 1fr !important;
    }
    
    .strategy-card {
        padding: 24px 20px;
    }
    
    /* Pricing cards */
    .pricing-grid {
        grid-template-columns: 1fr !important;
        gap: 20px;
    }
    
    .pricing-card {
        padding: 32px 24px;
    }
    
    /* Language selector mobile */
    .lang-selector {
        position: relative;
    }
    
    .lang-menu {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        right: 0;
        max-height: 50vh;
        border-radius: 20px 20px 0 0;
        border-bottom: none;
        box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.5);
    }
}

@media (max-width: 480px) {
    .hero h1 {
        font-size: 28px !important;
    }
    
    .hero .subtitle {
        font-size: 14px !important;
    }
    
    .section-title {
        font-size: 24px !important;
    }
}

/* ============================================
   TERMINAL PAGE (terminal.html)
   ============================================ */
@media (max-width: 1024px) {
    /* Terminal header mobile */
    .terminal-header {
        padding: 12px 16px !important;
        flex-wrap: wrap;
        gap: 12px;
    }
    
    .header-left, .header-center, .header-right {
        flex: 1 1 100%;
    }
    
    .header-center {
        order: 3;
    }
    
    /* Exchange selector mobile */
    .exchange-select, .account-select {
        font-size: 14px;
        padding: 10px 36px 10px 12px;
    }
    
    /* Balance cards mobile */
    .balance-cards {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px;
    }
    
    .balance-card {
        padding: 14px 12px;
    }
    
    .balance-value {
        font-size: 20px !important;
    }
    
    .balance-label {
        font-size: 0.7rem !important;
    }
    
    /* Terminal layout - hide left panel on mobile */
    .terminal-layout {
        grid-template-columns: 1fr 320px !important;
        grid-template-rows: 28px 56px 1fr 180px !important;
    }
    
    .left-panel {
        display: none !important;
    }
    
    /* Trading grid mobile - stack vertically */
    .trading-grid {
        grid-template-columns: 1fr !important;
        gap: 16px;
        padding: 16px;
    }
    
    /* Chart container */
    .chart-container,
    .chart-area {
        height: 350px !important;
        order: 1;
    }
    
    /* Order panel mobile */
    .order-panel,
    .right-panel {
        order: 2;
        max-height: none;
    }
    
    .order-tabs {
        gap: 8px;
    }
    
    .tab-btn {
        padding: 10px 16px;
        font-size: 14px;
    }
    
    .order-form {
        padding: 14px;
    }
    
    /* Positions table mobile - horizontal scroll */
    .positions-table-container,
    .bottom-panel {
        order: 3;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .positions-table,
    .orders-table,
    .history-table {
        min-width: 700px;
    }
    
    .positions-table th,
    .positions-table td,
    .orders-table th,
    .orders-table td,
    .history-table th,
    .history-table td {
        padding: 10px 8px;
        font-size: 0.8rem;
    }
    
    /* Action buttons mobile */
    .action-btn {
        padding: 6px 10px;
        font-size: 0.7rem;
    }
    
    /* Market stats - horizontal scroll */
    .header-center {
        overflow-x: auto;
        white-space: nowrap;
        padding-bottom: 4px;
    }
    
    .market-stat {
        display: inline-flex;
        margin-right: 16px;
    }
}

@media (max-width: 768px) {
    /* Terminal layout - single column on mobile */
    .terminal-layout {
        grid-template-columns: 1fr !important;
        grid-template-rows: auto auto 1fr auto !important;
    }
    
    .right-panel {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        max-height: 50vh;
        z-index: 100;
        transform: translateY(calc(100% - 60px));
        transition: transform 0.3s ease;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.4);
        border-radius: 16px 16px 0 0;
    }
    
    .right-panel.expanded {
        transform: translateY(0);
    }
    
    .right-panel::before {
        content: '';
        display: block;
        width: 40px;
        height: 4px;
        background: var(--border);
        border-radius: 2px;
        margin: 8px auto;
    }
    
    /* Terminal sidebar - slide from left */
    .terminal-sidebar,
    .left-panel {
        position: fixed !important;
        display: block !important;
        left: -100%;
        top: 60px;
        bottom: 0;
        width: 280px;
        z-index: 999;
        transition: left 0.3s ease;
        box-shadow: 4px 0 20px rgba(0, 0, 0, 0.5);
    }
    
    .terminal-sidebar.active,
    .left-panel.active {
        left: 0;
    }
    
    /* Main content full width on mobile */
    .terminal-main {
        margin-left: 0 !important;
        width: 100% !important;
    }
    
    /* Sidebar toggle button */
    .sidebar-toggle {
        display: flex !important;
        position: fixed;
        bottom: 70px;
        left: 16px;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: var(--gradient-purple);
        color: white;
        border: none;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        box-shadow: 0 4px 20px rgba(220, 38, 38, 0.4);
        z-index: 1000;
        cursor: pointer;
    }
    
    /* Chart controls mobile */
    .chart-controls {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .chart-controls button {
        padding: 8px 12px;
        font-size: 12px;
    }
    
    /* Bottom panel compact */
    .bottom-panel {
        max-height: 150px;
    }
    
    .bottom-tabs {
        padding: 6px 12px;
        overflow-x: auto;
        white-space: nowrap;
    }
    
    .bottom-tab {
        padding: 6px 12px;
        font-size: 0.75rem;
    }
}

@media (max-width: 480px) {
    .chart-container,
    .chart-area {
        height: 280px !important;
    }
    
    .balance-value {
        font-size: 18px !important;
    }
    
    .balance-cards {
        grid-template-columns: 1fr 1fr !important;
        gap: 8px;
    }
    
    .balance-card {
        padding: 10px 8px;
    }
    
    .order-form input,
    .order-form select {
        font-size: 14px;
    }
    
    /* Compact order form */
    .side-toggle {
        gap: 6px;
        margin-bottom: 10px;
    }
    
    .side-btn {
        padding: 12px;
        font-size: 0.85rem;
    }
    
    .percent-btns {
        gap: 4px;
    }
    
    .percent-btn {
        padding: 6px;
        font-size: 0.75rem;
    }
    
    .submit-btn {
        padding: 14px;
        font-size: 0.9rem;
    }
}

/* ============================================
   SCREENER PAGE (screener.html)
   ============================================ */
@media (max-width: 1024px) {
    /* Screener header mobile */
    .screener-header,
    .header {
        padding: 12px 16px !important;
        flex-wrap: wrap;
        gap: 10px;
    }
    
    .screener-title,
    .logo {
        font-size: 18px !important;
    }
    
    /* Overview bar - 2 columns on tablet */
    .overview-bar {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px;
    }
    
    .overview-card {
        padding: 14px 16px;
    }
    
    .overview-value {
        font-size: 1.25rem !important;
    }
    
    .overview-label {
        font-size: 0.7rem !important;
    }
    
    /* Market type toggle mobile */
    .market-type-toggle {
        width: 100%;
        margin: 8px 0;
    }
    
    .market-type-btn {
        flex: 1;
        padding: 10px;
        font-size: 13px;
    }
    
    /* Filter controls mobile */
    .filter-controls,
    .filters-bar {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .filter-btn, .sort-select {
        padding: 8px 14px;
        font-size: 13px;
    }
    
    /* Screener layout mobile - stack */
    .screener-layout {
        grid-template-columns: 1fr !important;
    }
    
    /* Top movers sidebar - horizontal scroll on mobile */
    .top-movers {
        order: 1;
        max-height: none;
        overflow-x: auto;
        overflow-y: visible;
        white-space: nowrap;
        padding-bottom: 12px;
        display: flex;
        gap: 12px;
    }
    
    .mover-card {
        display: inline-block;
        flex-shrink: 0;
        width: 160px;
        margin-right: 0;
        vertical-align: top;
    }
    
    /* Screener table - horizontal scroll */
    .screener-table-container {
        order: 2;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        margin: 0 -16px;
        padding: 0 16px;
    }
    
    .screener-table {
        min-width: 900px;
    }
    
    .screener-table th,
    .screener-table td {
        padding: 10px 8px;
        font-size: 0.8rem;
    }
    
    /* Symbol cell sticky on mobile */
    .screener-table th:first-child,
    .screener-table td:first-child {
        position: sticky;
        left: 0;
        background: var(--bg-card);
        z-index: 10;
        box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3);
    }
    
    /* Navigation links - hide on tablet/mobile */
    .nav-links {
        display: none !important;
    }
    
    /* Container padding */
    .container {
        padding: 16px !important;
    }
}

@media (max-width: 768px) {
    /* Screener stats - 2 columns */
    .screener-stats,
    .overview-bar {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px;
    }
    
    .stat-card,
    .overview-card {
        padding: 12px;
    }
    
    .stat-value,
    .overview-value {
        font-size: 1.1rem !important;
    }
    
    /* More compact table */
    .screener-table {
        min-width: 800px;
    }
    
    .screener-table th,
    .screener-table td {
        padding: 8px 6px;
        font-size: 0.75rem;
    }
    
    /* Hide less important columns on mobile */
    .screener-table .hide-mobile {
        display: none !important;
    }
}

@media (max-width: 480px) {
    .screener-title {
        font-size: 16px !important;
    }
    
    /* Overview bar still 2 columns but more compact */
    .screener-stats,
    .overview-bar {
        gap: 8px;
    }
    
    .overview-card {
        padding: 10px;
    }
    
    .overview-value {
        font-size: 1rem !important;
    }
    
    .overview-label {
        font-size: 0.65rem !important;
    }
    
    /* Top movers smaller cards */
    .mover-card {
        width: 140px;
        padding: 10px;
    }
    
    /* Even more compact table */
    .screener-table {
        min-width: 700px;
    }
    
    .screener-table th,
    .screener-table td {
        padding: 6px 4px;
        font-size: 0.7rem;
    }
}

/* ============================================
   BACKTEST PAGE (backtest.html)
   ============================================ */
@media (max-width: 1024px) {
    /* Backtest layout mobile */
    .backtest-layout {
        grid-template-columns: 1fr !important;
    }
    
    /* Strategy selector mobile */
    .strategy-selector {
        order: 1;
        padding: 16px;
    }
    
    .strategy-card {
        padding: 16px;
    }
    
    /* Backtest form mobile */
    .backtest-form {
        order: 2;
        padding: 16px;
    }
    
    .form-group {
        margin-bottom: 16px;
    }
    
    .form-group label {
        font-size: 14px;
    }
    
    .form-group input,
    .form-group select {
        font-size: 14px;
        padding: 12px;
    }
    
    /* Results section mobile */
    .backtest-results {
        order: 3;
        padding: 16px;
    }
    
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px;
    }
    
    .metric-card {
        padding: 16px 12px;
    }
    
    .metric-value {
        font-size: 20px !important;
    }
    
    /* Chart results mobile */
    .equity-chart,
    .drawdown-chart {
        height: 300px !important;
    }
    
    /* Trade list mobile */
    .trades-list {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .trades-table {
        min-width: 700px;
    }
}

@media (max-width: 768px) {
    .backtest-header h1 {
        font-size: 24px !important;
    }
    
    .metrics-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ============================================
   DASHBOARD PAGE (dashboard.html)
   ============================================ */
@media (max-width: 1024px) {
    /* Dashboard grid mobile */
    .dashboard-grid {
        grid-template-columns: 1fr !important;
        gap: 16px;
        padding: 16px;
    }
    
    /* Portfolio card mobile */
    .portfolio-card {
        padding: 20px 16px;
    }
    
    .portfolio-header {
        flex-wrap: wrap;
        gap: 12px;
    }
    
    .portfolio-value {
        font-size: 28px !important;
    }
    
    /* Active positions mobile */
    .positions-list {
        gap: 12px;
    }
    
    .position-card {
        padding: 16px;
    }
    
    .position-header {
        flex-wrap: wrap;
    }
    
    .position-symbol {
        font-size: 16px !important;
    }
    
    /* Recent trades mobile */
    .trades-grid {
        grid-template-columns: 1fr !important;
    }
    
    .trade-card {
        padding: 16px;
    }
    
    /* Performance chart mobile */
    .performance-chart {
        height: 300px !important;
    }
    
    /* Stats cards mobile - 2 columns on tablets */
    .stats-cards,
    .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px;
    }
}

@media (max-width: 768px) {
    .dashboard-header {
        padding: 20px 16px;
    }
    
    .dashboard-header h1 {
        font-size: 24px !important;
    }
    
    /* Stats grid stays 2 columns on mobile but with smaller cards */
    .stats-cards,
    .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px;
    }
    
    .stat-card {
        padding: 14px 12px !important;
    }
    
    .stat-value {
        font-size: 18px !important;
    }
    
    .stat-label {
        font-size: 0.75rem !important;
    }
    
    .stat-icon {
        width: 36px !important;
        height: 36px !important;
        font-size: 0.9rem !important;
    }
    
    .stat-change {
        font-size: 0.7rem !important;
    }
    
    /* Dashboard content padding */
    .dashboard-content {
        padding: 12px !important;
    }
}

@media (max-width: 374px) {
    /* Very small phones - still 2 columns but even more compact */
    .stats-cards,
    .stats-grid {
        gap: 8px;
    }
    
    .stat-card {
        padding: 12px 10px !important;
    }
    
    .stat-value {
        font-size: 16px !important;
    }
    
    .stat-icon {
        width: 32px !important;
        height: 32px !important;
    }
}

/* ============================================
   ADMIN PAGE (admin/)
   ============================================ */
@media (max-width: 1024px) {
    /* Admin sidebar mobile - slide menu */
    .admin-sidebar {
        position: fixed;
        left: -280px;
        top: 0;
        bottom: 0;
        width: 280px;
        z-index: 1001;
        transition: left 0.3s ease;
        box-shadow: 4px 0 20px rgba(0, 0, 0, 0.5);
    }
    
    .admin-sidebar.active {
        left: 0;
    }
    
    /* Admin main content */
    .admin-main {
        margin-left: 0 !important;
        width: 100% !important;
        padding: 16px;
    }
    
    /* Admin cards mobile */
    .admin-cards {
        grid-template-columns: 1fr !important;
        gap: 16px;
    }
    
    .admin-card {
        padding: 20px 16px;
    }
    
    /* Users table mobile */
    .users-table-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .users-table {
        min-width: 800px;
    }
    
    /* Admin toggle button */
    .admin-menu-toggle {
        display: flex !important;
        position: fixed;
        top: 16px;
        left: 16px;
        width: 44px;
        height: 44px;
        border-radius: 8px;
        background: var(--bg-card);
        border: 1px solid var(--border);
        align-items: center;
        justify-content: center;
        z-index: 1000;
        cursor: pointer;
    }
}

/* ============================================
   SETTINGS PAGE (settings.html)
   ============================================ */
@media (max-width: 768px) {
    .settings-layout {
        grid-template-columns: 1fr !important;
    }
    
    .settings-sidebar {
        display: none;
    }
    
    .settings-nav-mobile {
        display: block !important;
        margin-bottom: 20px;
    }
    
    .settings-nav-mobile select {
        width: 100%;
        padding: 12px;
        font-size: 14px;
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: var(--radius-sm);
        color: var(--text-primary);
    }
    
    .settings-content {
        padding: 16px;
    }
    
    .settings-section {
        padding: 20px 16px;
    }
}

/* ============================================
   MODAL DIALOGS - MOBILE
   ============================================ */
@media (max-width: 768px) {
    .modal-overlay {
        padding: 0;
        align-items: flex-end;
    }
    
    .modal {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0;
        border-radius: 20px 20px 0 0 !important;
        max-height: 90vh;
        animation: slideUp 0.3s ease !important;
    }
    
    @keyframes slideUp {
        from {
            transform: translateY(100%);
        }
        to {
            transform: translateY(0);
        }
    }
    
    .modal-header {
        padding: 20px 16px;
    }
    
    .modal-body {
        padding: 16px;
        max-height: calc(90vh - 140px);
        overflow-y: auto;
    }
    
    .modal-footer {
        padding: 16px;
        flex-wrap: wrap;
    }
    
    .modal-footer .btn {
        flex: 1 1 100%;
        margin: 4px 0;
    }
}

/* ============================================
   TOAST NOTIFICATIONS - MOBILE
   ============================================ */
@media (max-width: 768px) {
    .toast-container {
        bottom: 80px !important;
        left: 16px !important;
        right: 16px !important;
        width: auto;
    }
    
    .toast {
        min-width: auto;
        width: 100%;
    }
}

/* ============================================
   TABLES - MOBILE OPTIMIZATION
   ============================================ */
@media (max-width: 768px) {
    /* Card-style table for mobile */
    table.mobile-cards {
        display: block;
    }
    
    table.mobile-cards thead {
        display: none;
    }
    
    table.mobile-cards tbody {
        display: block;
    }
    
    table.mobile-cards tr {
        display: block;
        margin-bottom: 16px;
        background: var(--bg-card);
        border-radius: var(--radius-md);
        padding: 16px;
        border: 1px solid var(--border);
    }
    
    table.mobile-cards td {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border: none;
    }
    
    table.mobile-cards td::before {
        content: attr(data-label);
        font-weight: 600;
        color: var(--text-secondary);
        margin-right: 12px;
    }
}

/* ============================================
   FORMS - MOBILE OPTIMIZATION
   ============================================ */
@media (max-width: 768px) {
    .form-row {
        flex-direction: column;
        gap: 16px;
    }
    
    .form-row .form-group {
        width: 100%;
        margin: 0;
    }
    
    /* Larger inputs for touch */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    select,
    textarea {
        min-height: 44px;
        font-size: 16px !important;
        padding: 12px 16px;
    }
    
    /* Larger checkboxes and radios */
    input[type="checkbox"],
    input[type="radio"] {
        width: 20px;
        height: 20px;
    }
    
    /* Button groups mobile */
    .btn-group {
        flex-direction: column;
        width: 100%;
    }
    
    .btn-group .btn {
        width: 100%;
        margin: 4px 0;
    }
}

/* ============================================
   UTILITY CLASSES - MOBILE
   ============================================ */
@media (max-width: 768px) {
    /* Show/hide utilities */
    .hide-mobile {
        display: none !important;
    }
    
    .show-mobile {
        display: block !important;
    }
    
    /* Spacing utilities */
    .p-mobile {
        padding: 16px !important;
    }
    
    .px-mobile {
        padding-left: 16px !important;
        padding-right: 16px !important;
    }
    
    .py-mobile {
        padding-top: 16px !important;
        padding-bottom: 16px !important;
    }
    
    .m-mobile {
        margin: 16px !important;
    }
    
    /* Text utilities */
    .text-center-mobile {
        text-align: center !important;
    }
    
    .text-small-mobile {
        font-size: 14px !important;
    }
}

/* ============================================
   LANDSCAPE ORIENTATION - MOBILE
   ============================================ */
@media (max-width: 768px) and (orientation: landscape) {
    /* Reduce header height in landscape */
    .header,
    .navbar,
    .terminal-header {
        height: 48px !important;
        padding: 8px 16px !important;
    }
    
    /* Compact chart in landscape */
    .chart-container {
        height: 250px !important;
    }
    
    /* Hide some elements in landscape for more space */
    .landscape-hide {
        display: none !important;
    }
}

/* ============================================
   IPAD / TABLET OPTIMIZATION (768px - 1024px)
   ============================================ */
@media (min-width: 768px) and (max-width: 1024px) {
    /* 2-column layouts for tablets */
    .features-grid,
    .strategies-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .dashboard-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .stats-cards,
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    /* Terminal sidebar visible on tablets */
    .terminal-sidebar {
        position: relative;
        left: 0;
        width: 240px;
    }
    
    .terminal-main {
        margin-left: 240px;
    }
    
    /* Larger touch targets for tablets */
    button, a.btn {
        min-height: 40px;
        padding: 10px 18px;
    }
}

/* ============================================
   SMALL PHONES (320px - 374px)
   ============================================ */
@media (max-width: 374px) {
    /* Extra compact for small phones */
    body {
        font-size: 14px;
    }
    
    .hero h1 {
        font-size: 24px !important;
    }
    
    .section-title {
        font-size: 20px !important;
    }
    
    .btn {
        padding: 10px 16px;
        font-size: 13px;
    }
    
    .balance-value,
    .portfolio-value {
        font-size: 20px !important;
    }
    
    /* Compact cards */
    .feature-card,
    .strategy-card,
    .position-card {
        padding: 16px 12px;
    }
    
    /* Smaller icons */
    .feature-icon,
    .strategy-icon {
        width: 40px !important;
        height: 40px !important;
        font-size: 20px !important;
    }
}

/* ============================================
   ACCESSIBILITY - MOBILE
   ============================================ */
@media (max-width: 768px) {
    /* Focus states more visible on mobile */
    button:focus,
    a:focus,
    input:focus,
    select:focus {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
    }
    
    /* Larger click areas for accessibility */
    a, button, .clickable {
        position: relative;
    }
    
    a::after, button::after, .clickable::after {
        content: '';
        position: absolute;
        top: -8px;
        left: -8px;
        right: -8px;
        bottom: -8px;
    }
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS - MOBILE
   ============================================ */
@media (max-width: 1024px) {
    /* Reduce animations on mobile for performance */
    .reduce-motion * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    /* Simplify blur effects on mobile */
    .backdrop-blur {
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
    }
    
    /* Reduce shadows on mobile */
    .card-shadow {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
}

/* ============================================
   DARK MODE ADJUSTMENTS - MOBILE
   ============================================ */
@media (max-width: 768px) and (prefers-color-scheme: dark) {
    /* Ensure proper contrast on OLED screens */
    body {
        background: #000;
    }
    
    .bg-card,
    .modal,
    .sidebar {
        background: #0a0a0a;
    }
}

/* ============================================
   PRINT STYLES - MOBILE
   ============================================ */
@media print {
    /* Hide navigation and interactive elements */
    .navbar,
    .sidebar,
    .terminal-sidebar,
    .mobile-menu-toggle,
    button,
    .btn {
        display: none !important;
    }
    
    /* Full width for content */
    .terminal-main,
    .admin-main {
        margin-left: 0 !important;
        width: 100% !important;
    }
    
    /* Remove backgrounds and shadows */
    body,
    .card,
    .modal {
        background: white !important;
        box-shadow: none !important;
    }
    
    /* Black text for printing */
    * {
        color: black !important;
    }
}
